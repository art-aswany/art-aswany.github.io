<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion Navigation Guide - Day 6</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
            border-left: 4px solid #667eea;
            padding-left: 20px;
        }
        
        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 2px solid #f1f2f6;
            padding-bottom: 10px;
        }
        
        .section h3 {
            color: #2c3e50;
            font-size: 1.3em;
            margin: 25px 0 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .emotion-card {
            background: #ffffff;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .emotion-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 20px rgba(102,126,234,0.15);
        }
        
        .emotion-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .emotion-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.5em;
        }
        
        .anger { background: #ffebee; color: #c62828; }
        .sadness { background: #e3f2fd; color: #1565c0; }
        .fear { background: #f3e5f5; color: #7b1fa2; }
        .joy { background: #fff3e0; color: #ef6c00; }
        .disgust { background: #e8f5e8; color: #2e7d32; }
        .surprise { background: #fff8e1; color: #f57f17; }
        
        .navigation-steps {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .step {
            display: flex;
            align-items: flex-start;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .step-number {
            background: #667eea;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
            font-weight: bold;
        }
        
        .step-content h4 {
            color: #2c3e50;
            margin-bottom: 8px;
        }
        
        .technique-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .technique-box h4 {
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .worksheet {
            background: #f8f9fa;
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .worksheet h3 {
            background: none;
            color: #667eea;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .input-group {
            margin: 15px 0;
        }
        
        .input-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .input-field {
            border: 2px solid #e8ecf4;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            min-height: 60px;
            background: #ffffff;
            width: 100%;
            font-family: 'Segoe UI', Arial, sans-serif;
            font-size: 14px;
            resize: vertical;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            border-color: #667eea;
            background: #f8f9ff;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .input-field:hover {
            border-color: #764ba2;
        }
        
        .input-field.large {
            min-height: 120px;
        }
        
        .input-field::placeholder {
            color: #6c757d;
            font-style: italic;
            opacity: 0.7;
        }
        
        /* تحسين الطباعة */
        @media print {
            .input-field {
                border: 1px solid #333;
                background: white !important;
                color: #000 !important;
                page-break-inside: avoid;
            }
        }
        
        .input-field:focus {
            border-color: #667eea;
            background: #ffffff;
        }
        
        .input-field.large {
            min-height: 120px;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .checklist {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .checklist-item input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        ul, ol {
            margin: 15px 0 15px 20px;
        }
        
        li {
            margin: 8px 0;
            color: #555;
        }
        
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .quote {
            background: #e8f4fd;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            font-style: italic;
            border-radius: 0 8px 8px 0;
        }
        
        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; }
            .emotion-card:hover { border-color: #e9ecef; box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧭 Emotion Navigation Guide</h1>
            <p>Master the art of understanding and managing your emotional landscape</p>
        </div>
        
        <div class="content">
            <div class="quote">
                <p><strong>"Emotions are data, not directives. They inform us about our inner world, but we choose how to respond."</strong> - Marc Brackett</p>
            </div>
            
            <div class="section">
                <h2>Understanding Your Emotional Compass</h2>
                <p>Emotions serve as our internal navigation system, providing crucial information about our needs, values, and experiences. This guide will help you develop the skills to read, understand, and skillfully navigate your emotional landscape.</p>
                
                <div class="highlight">
                    <strong>Key Principle:</strong> There are no "bad" emotions - only emotions that require different navigation strategies. Each emotion carries important information about your inner experience.
                </div>
            </div>
            
            <div class="section">
                <h2>The Six Primary Emotional Territories</h2>
                
                <div class="emotion-card">
                    <div class="emotion-header">
                        <div class="emotion-icon anger">😠</div>
                        <h3>Anger - The Boundary Protector</h3>
                    </div>
                    <p><strong>What it signals:</strong> Boundaries have been crossed, values violated, or injustice perceived.</p>
                    <p><strong>Healthy expression:</strong> Assertive communication, constructive action, boundary setting.</p>
                    <p><strong>Navigation strategy:</strong> Pause, identify the underlying need or value, respond rather than react.</p>
                </div>
                
                <div class="emotion-card">
                    <div class="emotion-header">
                        <div class="emotion-icon sadness">😢</div>
                        <h3>Sadness - The Connection Seeker</h3>
                    </div>
                    <p><strong>What it signals:</strong> Loss, disappointment, or separation from something valued.</p>
                    <p><strong>Healthy expression:</strong> Grieving, seeking comfort, processing the loss.</p>
                    <p><strong>Navigation strategy:</strong> Allow the feeling, seek support, honor what was lost.</p>
                </div>
                
                <div class="emotion-card">
                    <div class="emotion-header">
                        <div class="emotion-icon fear">😰</div>
                        <h3>Fear - The Survival Guardian</h3>
                    </div>
                    <p><strong>What it signals:</strong> Potential threat or danger, need for caution or preparation.</p>
                    <p><strong>Healthy expression:</strong> Careful planning, seeking safety, appropriate caution.</p>
                    <p><strong>Navigation strategy:</strong> Assess the actual risk, prepare appropriately, take grounded action.</p>
                </div>
                
                <div class="emotion-card">
                    <div class="emotion-header">
                        <div class="emotion-icon joy">😊</div>
                        <h3>Joy - The Connection Amplifier</h3>
                    </div>
                    <p><strong>What it signals:</strong> Alignment with values, successful connection, positive experiences.</p>
                    <p><strong>Healthy expression:</strong> Celebration, sharing, gratitude, continued engagement.</p>
                    <p><strong>Navigation strategy:</strong> Savor the moment, share with others, remember for future reference.</p>
                </div>
                
                <div class="emotion-card">
                    <div class="emotion-header">
                        <div class="emotion-icon disgust">🤢</div>
                        <h3>Disgust - The Quality Controller</h3>
                    </div>
                    <p><strong>What it signals:</strong> Something doesn't align with your values or standards.</p>
                    <p><strong>Healthy expression:</strong> Setting standards, avoiding harmful situations, maintaining integrity.</p>
                    <p><strong>Navigation strategy:</strong> Identify what specifically violates your values, take appropriate distance.</p>
                </div>
                
                <div class="emotion-card">
                    <div class="emotion-header">
                        <div class="emotion-icon surprise">😲</div>
                        <h3>Surprise - The Attention Director</h3>
                    </div>
                    <p><strong>What it signals:</strong> Unexpected information, need to reassess or adapt.</p>
                    <p><strong>Healthy expression:</strong> Curiosity, openness to new information, flexible thinking.</p>
                    <p><strong>Navigation strategy:</strong> Pause to process, gather more information, adapt as needed.</p>
                </div>
            </div>
            
            <div class="section">
                <h2>The NAVIGATE Method</h2>
                <p>A systematic approach to emotional intelligence and regulation:</p>
                
                <div class="navigation-steps">
                    <div class="step">
                        <div class="step-number">N</div>
                        <div class="step-content">
                            <h4>NOTICE</h4>
                            <p>Become aware of the emotional signal. What are you feeling right now?</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">A</div>
                        <div class="step-content">
                            <h4>ACKNOWLEDGE</h4>
                            <p>Accept the emotion without judgment. "I'm feeling angry, and that's okay."</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">V</div>
                        <div class="step-content">
                            <h4>VALIDATE</h4>
                            <p>Recognize that your emotion makes sense given your experience.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">I</div>
                        <div class="step-content">
                            <h4>INVESTIGATE</h4>
                            <p>Explore what the emotion is telling you. What need or value is involved?</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">G</div>
                        <div class="step-content">
                            <h4>GENERATE</h4>
                            <p>Create options for healthy response. What are your choices?</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">A</div>
                        <div class="step-content">
                            <h4>ACT</h4>
                            <p>Choose and implement your response mindfully.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">T</div>
                        <div class="step-content">
                            <h4>TRACK</h4>
                            <p>Notice the outcome and learn for future emotional situations.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">E</div>
                        <div class="step-content">
                            <h4>EVOLVE</h4>
                            <p>Integrate the learning and grow your emotional intelligence.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Emotional Regulation Techniques</h2>
                
                <div class="technique-box">
                    <h4>🫁 Physiological Regulation</h4>
                    <ul>
                        <li><strong>Box Breathing:</strong> Inhale 4, hold 4, exhale 4, hold 4</li>
                        <li><strong>Progressive Muscle Relaxation:</strong> Tense and release muscle groups</li>
                        <li><strong>Cold Water:</strong> Splash cold water on face or wrists</li>
                        <li><strong>Movement:</strong> Walk, stretch, or engage in physical activity</li>
                    </ul>
                </div>
                
                <div class="technique-box">
                    <h4>🧠 Cognitive Regulation</h4>
                    <ul>
                        <li><strong>Reframing:</strong> Look for alternative perspectives</li>
                        <li><strong>Fact vs. Story:</strong> Separate what happened from your interpretation</li>
                        <li><strong>Time Travel:</strong> How will this matter in 5 years?</li>
                        <li><strong>Wise Mind:</strong> What would your wisest self advise?</li>
                    </ul>
                </div>
                
                <div class="technique-box">
                    <h4>🤝 Social Regulation</h4>
                    <ul>
                        <li><strong>Supportive Conversation:</strong> Talk with trusted friends</li>
                        <li><strong>Professional Help:</strong> Seek therapy or counseling</li>
                        <li><strong>Boundary Setting:</strong> Communicate your needs clearly</li>
                        <li><strong>Co-regulation:</strong> Calm presence of others</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h2>Personal Emotional Patterns</h2>
                
                <div class="worksheet">
                    <h3>📋 Emotional Pattern Analysis</h3>
                    
                    <div class="input-group">
                        <label>What emotions do you experience most frequently?</label>
                        <textarea class="input-field" rows="3" placeholder="List your most common emotions and their triggers..."></textarea>
                    </div>
                    
                    <div class="input-group">
                        <label>What are your emotional triggers?</label>
                        <textarea class="input-field" rows="3" placeholder="Identify situations, people, or thoughts that consistently trigger strong emotions..."></textarea>
                    </div>
                    
                    <div class="input-group">
                        <label>How do you typically respond to strong emotions?</label>
                        <textarea class="input-field" rows="3" placeholder="Describe your usual patterns of emotional response..."></textarea>
                    </div>
                    
                    <div class="input-group">
                        <label>What regulation strategies work best for you?</label>
                        <textarea class="input-field" rows="3" placeholder="List techniques that effectively help you manage difficult emotions..."></textarea>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Emotional Intelligence Development Plan</h2>
                
                <div class="checklist">
                    <h3>Daily Practices</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="daily1">
                        <label for="daily1">Morning emotional check-in: How am I feeling right now?</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="daily2">
                        <label for="daily2">Practice the NAVIGATE method when strong emotions arise</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="daily3">
                        <label for="daily3">Evening reflection: What emotions did I experience today?</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="daily4">
                        <label for="daily4">Use at least one regulation technique when needed</label>
                    </div>
                </div>
                
                <div class="checklist">
                    <h3>Weekly Practices</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="weekly1">
                        <label for="weekly1">Review emotional patterns and triggers from the week</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="weekly2">
                        <label for="weekly2">Practice expressing emotions healthily with trusted people</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="weekly3">
                        <label for="weekly3">Experiment with new emotional regulation techniques</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="weekly4">
                        <label for="weekly4">Journal about emotional growth and insights</label>
                    </div>
                </div>
                
                <div class="checklist">
                    <h3>Monthly Practices</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="monthly1">
                        <label for="monthly1">Complete comprehensive emotional pattern analysis</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="monthly2">
                        <label for="monthly2">Assess progress in emotional regulation skills</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="monthly3">
                        <label for="monthly3">Set new emotional intelligence goals</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="monthly4">
                        <label for="monthly4">Seek feedback on emotional responses from trusted sources</label>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Emergency Emotional Navigation</h2>
                <p>For moments of emotional overwhelm:</p>
                
                <div class="highlight">
                    <h3>🚨 The STOP Technique</h3>
                    <ul>
                        <li><strong>S</strong> - Stop what you're doing</li>
                        <li><strong>T</strong> - Take three deep breaths</li>
                        <li><strong>O</strong> - Observe your internal experience</li>
                        <li><strong>P</strong> - Proceed with intention</li>
                    </ul>
                </div>
                
                <div class="worksheet">
                    <h3>Emergency Contact Plan</h3>
                    
                    <div class="input-group">
                        <label>Trusted person to call when emotionally overwhelmed:</label>
                        <input type="text" class="input-field" placeholder="Name and phone number...">
                    </div>
                    
                    <div class="input-group">
                        <label>Professional support (therapist, counselor, crisis line):</label>
                        <input type="text" class="input-field" placeholder="Contact information...">
                    </div>
                    
                    <div class="input-group">
                        <label>Three quick grounding techniques that work for you:</label>
                        <textarea class="input-field" rows="3" placeholder="List your go-to grounding techniques..."></textarea>
                    </div>
                </div>
            </div>
            
            <div class="quote">
                <p><strong>Remember:</strong> Developing emotional intelligence is a lifelong journey. Be patient and compassionate with yourself as you learn to navigate your emotional landscape with greater skill and wisdom.</p>
            </div>
        </div>
    </div>

        

        <script>
        // نظام حفظ وطباعة محسن
        class InteractiveResourceManager {
            constructor() {
                this.storageKey = 'resource_' + window.location.pathname.split('/').pop();
                this.init();
            }
            
            init() {
                this.loadSavedData();
                this.attachEventListeners();
                this.setupAutoSave();
                this.setupPrintHandling();
            }
            
            // حفظ البيانات
            saveData() {
                const data = {
                    textareas: {},
                    checkboxes: [],
                    radios: [],
                    timestamp: new Date().toISOString()
                };
                
                // حفظ النصوص
                document.querySelectorAll('textarea.input-field').forEach((textarea, index) => {
                    if (textarea.value.trim()) {
                        data.textareas[`textarea_${index}`] = textarea.value;
                    }
                });
                
                // حفظ الاختيارات
                document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                    data.checkboxes.push(cb.name || cb.value);
                });
                
                document.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
                    data.radios.push({name: radio.name, value: radio.value});
                });
                
                localStorage.setItem(this.storageKey, JSON.stringify(data));
            }
            
            // تحميل البيانات المحفوظة
            loadSavedData() {
                try {
                    const saved = localStorage.getItem(this.storageKey);
                    if (saved) {
                        const data = JSON.parse(saved);
                        
                        // استرداد النصوص
                        Object.entries(data.textareas || {}).forEach(([key, value]) => {
                            const index = parseInt(key.split('_')[1]);
                            const textarea = document.querySelectorAll('textarea.input-field')[index];
                            if (textarea) {
                                textarea.value = value;
                            }
                        });
                        
                        // استرداد الاختيارات
                        (data.checkboxes || []).forEach(name => {
                            const checkbox = document.querySelector(`input[type="checkbox"][name="${name}"], input[type="checkbox"][value="${name}"]`);
                            if (checkbox) checkbox.checked = true;
                        });
                        
                        (data.radios || []).forEach(({name, value}) => {
                            const radio = document.querySelector(`input[type="radio"][name="${name}"][value="${value}"]`);
                            if (radio) radio.checked = true;
                        });
                    }
                } catch (e) {
                    console.log('خطأ في تحميل البيانات المحفوظة:', e);
                }
            }
            
            // إعداد الحفظ التلقائي
            setupAutoSave() {
                let saveTimeout;
                const autoSave = () => {
                    clearTimeout(saveTimeout);
                    saveTimeout = setTimeout(() => this.saveData(), 1000);
                };
                
                document.addEventListener('input', autoSave);
                document.addEventListener('change', autoSave);
            }
            
            // إعداد معالجة الطباعة
            setupPrintHandling() {
                window.addEventListener('beforeprint', () => {
                    // إنشاء عناصر للطباعة تحتوي على الإجابات
                    document.querySelectorAll('textarea.input-field').forEach(textarea => {
                        if (textarea.value.trim()) {
                            const printDiv = document.createElement('div');
                            printDiv.className = 'print-answer';
                            printDiv.style.cssText = `
                                border: 1px solid #333;
                                padding: 10px;
                                margin: 5px 0;
                                background: #f9f9f9;
                                min-height: 40px;
                                white-space: pre-wrap;
                                font-family: Arial, sans-serif;
                                font-size: 12px;
                                page-break-inside: avoid;
                            `;
                            printDiv.textContent = textarea.value;
                            
                            textarea.style.display = 'none';
                            textarea.parentNode.insertBefore(printDiv, textarea);
                        }
                    });
                });
                
                window.addEventListener('afterprint', () => {
                    // إزالة عناصر الطباعة
                    document.querySelectorAll('.print-answer').forEach(div => div.remove());
                    document.querySelectorAll('textarea.input-field').forEach(textarea => {
                        textarea.style.display = 'block';
                    });
                });
            }
            
            // إرفاق مستمعي الأحداث
            attachEventListeners() {
                // إضافة أزرار الحفظ والطباعة إذا لم تكن موجودة
                this.addActionButtons();
            }
            
            // إضافة أزرار الإجراءات
            addActionButtons() {
                if (!document.querySelector('.action-buttons')) {
                    const buttonsDiv = document.createElement('div');
                    buttonsDiv.className = 'action-buttons';
                    buttonsDiv.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        right: 20px;
                        z-index: 1000;
                        display: flex;
                        gap: 10px;
                        flex-direction: column;
                    `;
                    
                    const printBtn = this.createButton('🖨️ Print', () => window.print());
                    const saveBtn = this.createButton('💾 Save', () => {
                        this.saveData();
                        this.showNotification('Your answers have been saved');
                    });
                    const clearBtn = this.createButton('🗑️ Clear', () => {
                        if (confirm('Do you want to clear all answers?')) {
                            this.clearAll();
                        }
                    });
                    
                    buttonsDiv.appendChild(printBtn);
                    buttonsDiv.appendChild(saveBtn);
                    buttonsDiv.appendChild(clearBtn);
                    
                    document.body.appendChild(buttonsDiv);
                }
            }
            
            // إنشاء زر
            createButton(text, onClick) {
                const button = document.createElement('button');
                button.textContent = text;
                button.style.cssText = `
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    border: none;
                    padding: 12px 16px;
                    border-radius: 8px;
                    cursor: pointer;
                    font-size: 14px;
                    font-weight: bold;
                    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                    transition: all 0.3s ease;
                    min-width: 100px;
                `;
                
                button.addEventListener('mouseover', () => {
                    button.style.transform = 'translateY(-2px)';
                    button.style.boxShadow = '0 6px 20px rgba(102, 126, 234, 0.4)';
                });
                
                button.addEventListener('mouseout', () => {
                    button.style.transform = 'translateY(0)';
                    button.style.boxShadow = '0 4px 15px rgba(102, 126, 234, 0.3)';
                });
                
                button.addEventListener('click', onClick);
                return button;
            }
            
            // مسح جميع البيانات
            clearAll() {
                document.querySelectorAll('textarea.input-field').forEach(textarea => {
                    textarea.value = '';
                });
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                    cb.checked = false;
                });
                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });
                localStorage.removeItem(this.storageKey);
                this.showNotification('All data cleared');
            }
            
            // إظهار إشعار
            showNotification(message) {
                const notification = document.createElement('div');
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #4CAF50;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    z-index: 1001;
                    font-weight: bold;
                    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateY(-20px)';
                    setTimeout(() => notification.remove(), 300);
                }, 2000);
            }
        }
        
        // تهيئة النظام عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', () => {
            new InteractiveResourceManager();
        });
        </script>

<script>
// نظام حساب تلقائي بسيط وفعال
class WorkingCalculator {
    constructor() {
        this.results = {};
        this.init();
    }
    
    init() {
        this.setupListeners();
        this.createResultsPanel();
    }
    
    setupListeners() {
        // مراقبة تغييرات الإدخال
        document.addEventListener('change', (e) => {
            if (e.target.type === 'radio' || e.target.type === 'checkbox') {
                this.calculate();
                this.addAnimation(e.target);
            }
        });
        
        // مراقبة النصوص
        document.addEventListener('input', (e) => {
            if (e.target.classList.contains('input-field')) {
                this.calculate();
            }
        });
    }
    
    addAnimation(element) {
        const parent = element.closest('.card, .section, .daily-challenge, .assessment-card');
        if (parent) {
            parent.style.transform = 'scale(1.05)';
            parent.style.transition = 'all 0.3s ease';
            parent.style.boxShadow = '0 8px 25px rgba(102, 126, 234, 0.4)';
            
            setTimeout(() => {
                parent.style.transform = 'scale(1)';
                parent.style.boxShadow = 'none';
            }, 400);
        }
    }
    
    calculate() {
        // حساب النقاط من radio buttons
        const radioInputs = document.querySelectorAll('input[type="radio"]:checked');
        let totalScore = 0;
        let maxScore = 0;
        
        radioInputs.forEach(input => {
            const value = parseInt(input.value) || 1;
            totalScore += value;
        });
        
        // حساب العدد الإجمالي للأسئلة
        const allRadios = document.querySelectorAll('input[type="radio"]');
        const questions = new Set();
        allRadios.forEach(radio => {
            questions.add(radio.name);
        });
        
        maxScore = questions.size * 5; // افتراض أقصى 5 نقاط لكل سؤال
        
        // حساب النسبة المئوية
        const percentage = maxScore > 0 ? Math.round((totalScore / maxScore) * 100) : 0;
        
        // حساب عدد الإجابات المكتملة
        const completedQuestions = radioInputs.length;
        const totalQuestions = questions.size;
        const completionRate = totalQuestions > 0 ? Math.round((completedQuestions / totalQuestions) * 100) : 0;
        
        // حفظ النتائج
        this.results = {
            totalScore: totalScore,
            maxScore: maxScore,
            percentage: percentage,
            completed: completedQuestions,
            total: totalQuestions,
            completionRate: completionRate
        };
        
        this.updateDisplay();
    }
    
    updateDisplay() {
        const resultsDiv = document.getElementById('live-calculator-results');
        if (!resultsDiv) return;
        
        const { totalScore, percentage, completed, total, completionRate } = this.results;
        
        resultsDiv.innerHTML = `
            <div class="calc-results-grid">
                <div class="calc-card">
                    <div class="calc-score">${percentage}%</div>
                    <div class="calc-label">Overall Score</div>
                    <div class="calc-bar">
                        <div class="calc-fill" style="width: ${percentage}%"></div>
                    </div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${totalScore}</div>
                    <div class="calc-label">Total Points</div>
                    <div class="calc-detail">out of ${this.results.maxScore}</div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${completionRate}%</div>
                    <div class="calc-label">Completion</div>
                    <div class="calc-detail">${completed}/${total} answered</div>
                </div>
            </div>
        `;
        
        // إضافة رؤى بسيطة
        this.showInsights(percentage, completionRate);
    }
    
    showInsights(percentage, completion) {
        const insightsDiv = document.getElementById('live-insights');
        if (!insightsDiv) return;
        
        const insights = [];
        
        if (completion >= 100) {
            insights.push("✅ Assessment completed! All questions answered.");
        } else if (completion >= 50) {
            insights.push(`📊 ${completion}% complete. Keep going!`);
        } else {
            insights.push("📝 Just getting started. Answer more questions for better insights.");
        }
        
        if (percentage >= 80) {
            insights.push("🌟 Excellent results! You're showing strong performance.");
        } else if (percentage >= 60) {
            insights.push("👍 Good results! There are areas for growth and development.");
        } else if (percentage >= 40) {
            insights.push("📈 Moderate results. Consider focusing on development opportunities.");
        }
        
        insightsDiv.innerHTML = insights.map(insight => 
            `<div class="insight-item">${insight}</div>`
        ).join('');
    }
    
    createResultsPanel() {
        // التحقق من وجود اللوحة
        if (document.getElementById('working-calculator-panel')) return;
        
        const panelHTML = `
            <div id="working-calculator-panel" class="calc-panel">
                <div class="calc-header">
                    <h3>📊 Live Results</h3>
                    <div class="calc-actions">
                        <button onclick="workingCalc.save()" class="calc-btn">💾 Save</button>
                        <button onclick="workingCalc.print()" class="calc-btn">🖨️ Print</button>
                        <button onclick="workingCalc.clear()" class="calc-btn">🗑️ Clear</button>
                    </div>
                </div>
                <div id="live-calculator-results" class="calc-results"></div>
                <div id="live-insights" class="calc-insights"></div>
            </div>
        `;
        
        // إدراج اللوحة
        const lastSection = document.querySelector('.section:last-child, .content:last-child');
        if (lastSection) {
            lastSection.insertAdjacentHTML('afterend', panelHTML);
        } else {
            document.body.insertAdjacentHTML('beforeend', panelHTML);
        }
        
        this.addStyles();
    }
    
    addStyles() {
        const style = document.createElement('style');
        style.textContent = `
            .calc-panel {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px auto;
                color: white;
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
                max-width: 1000px;
            }
            .calc-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                flex-wrap: wrap;
                gap: 15px;
            }
            .calc-header h3 {
                margin: 0;
                font-size: 1.5em;
            }
            .calc-actions {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
            }
            .calc-btn {
                background: rgba(255, 255, 255, 0.2);
                color: white;
                border: 2px solid rgba(255, 255, 255, 0.3);
                padding: 8px 15px;
                border-radius: 20px;
                cursor: pointer;
                font-weight: bold;
                transition: all 0.3s ease;
            }
            .calc-btn:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: translateY(-2px);
            }
            .calc-results-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            .calc-card {
                background: rgba(255, 255, 255, 0.15);
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                backdrop-filter: blur(10px);
            }
            .calc-score {
                font-size: 2.2em;
                font-weight: bold;
                margin: 5px 0;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            }
            .calc-label {
                font-size: 1em;
                opacity: 0.9;
                margin: 5px 0;
            }
            .calc-detail {
                font-size: 0.85em;
                opacity: 0.7;
                margin-top: 5px;
            }
            .calc-bar {
                background: rgba(255, 255, 255, 0.3);
                border-radius: 15px;
                height: 6px;
                margin: 10px 0;
                overflow: hidden;
            }
            .calc-fill {
                height: 100%;
                background: #4CAF50;
                border-radius: 15px;
                transition: width 0.8s ease;
            }
            .calc-insights {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 10px;
                padding: 15px;
                margin-top: 15px;
            }
            .insight-item {
                background: rgba(255, 255, 255, 0.1);
                padding: 10px 15px;
                border-radius: 6px;
                margin: 8px 0;
                border-left: 3px solid #4CAF50;
            }
            @media (max-width: 768px) {
                .calc-header {
                    flex-direction: column;
                    text-align: center;
                }
                .calc-results-grid {
                    grid-template-columns: 1fr;
                }
            }
        `;
        document.head.appendChild(style);
    }
    
    save() {
        const data = {
            timestamp: new Date().toISOString(),
            results: this.results,
            responses: this.getFormData()
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `assessment_results_${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        URL.revokeObjectURL(url);
        
        this.notify('Results saved successfully! 💾');
    }
    
    print() {
        window.print();
    }
    
    clear() {
        if (confirm('هل تريد مسح جميع الإجابات؟ Clear all answers?')) {
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('input[type="checkbox"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('textarea.input-field').forEach(textarea => {
                textarea.value = '';
            });
            
            this.results = {};
            this.updateDisplay();
            this.notify('All answers cleared! 🗑️');
        }
    }
    
    getFormData() {
        const data = {};
        
        document.querySelectorAll('input[type="radio"]:checked').forEach(input => {
            data[input.name] = input.value;
        });
        
        document.querySelectorAll('textarea.input-field').forEach((textarea, index) => {
            if (textarea.value.trim()) {
                data[`text_${index}`] = textarea.value;
            }
        });
        
        return data;
    }
    
    notify(message) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 10000;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            animation: slideIn 0.3s ease;
        `;
        
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.opacity = '0';
            notification.style.transform = 'translateY(-20px)';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }
}

// تشغيل النظام
document.addEventListener('DOMContentLoaded', () => {
    window.workingCalc = new WorkingCalculator();
});
</script>

<script>
// نظام حساب تلقائي بسيط وفعال
class WorkingCalculator {
    constructor() {
        this.results = {};
        this.init();
    }
    
    init() {
        this.setupListeners();
        this.createResultsPanel();
    }
    
    setupListeners() {
        // مراقبة تغييرات الإدخال
        document.addEventListener('change', (e) => {
            if (e.target.type === 'radio' || e.target.type === 'checkbox') {
                this.calculate();
                this.addAnimation(e.target);
            }
        });
        
        // مراقبة النصوص
        document.addEventListener('input', (e) => {
            if (e.target.classList.contains('input-field')) {
                this.calculate();
            }
        });
    }
    
    addAnimation(element) {
        const parent = element.closest('.card, .section, .daily-challenge, .assessment-card');
        if (parent) {
            parent.style.transform = 'scale(1.05)';
            parent.style.transition = 'all 0.3s ease';
            parent.style.boxShadow = '0 8px 25px rgba(102, 126, 234, 0.4)';
            
            setTimeout(() => {
                parent.style.transform = 'scale(1)';
                parent.style.boxShadow = 'none';
            }, 400);
        }
    }
    
    calculate() {
        // حساب النقاط من radio buttons
        const radioInputs = document.querySelectorAll('input[type="radio"]:checked');
        let totalScore = 0;
        let maxScore = 0;
        
        radioInputs.forEach(input => {
            const value = parseInt(input.value) || 1;
            totalScore += value;
        });
        
        // حساب العدد الإجمالي للأسئلة
        const allRadios = document.querySelectorAll('input[type="radio"]');
        const questions = new Set();
        allRadios.forEach(radio => {
            questions.add(radio.name);
        });
        
        maxScore = questions.size * 5; // افتراض أقصى 5 نقاط لكل سؤال
        
        // حساب النسبة المئوية
        const percentage = maxScore > 0 ? Math.round((totalScore / maxScore) * 100) : 0;
        
        // حساب عدد الإجابات المكتملة
        const completedQuestions = radioInputs.length;
        const totalQuestions = questions.size;
        const completionRate = totalQuestions > 0 ? Math.round((completedQuestions / totalQuestions) * 100) : 0;
        
        // حفظ النتائج
        this.results = {
            totalScore: totalScore,
            maxScore: maxScore,
            percentage: percentage,
            completed: completedQuestions,
            total: totalQuestions,
            completionRate: completionRate
        };
        
        this.updateDisplay();
    }
    
    updateDisplay() {
        const resultsDiv = document.getElementById('live-calculator-results');
        if (!resultsDiv) return;
        
        const { totalScore, percentage, completed, total, completionRate } = this.results;
        
        resultsDiv.innerHTML = `
            <div class="calc-results-grid">
                <div class="calc-card">
                    <div class="calc-score">${percentage}%</div>
                    <div class="calc-label">Overall Score</div>
                    <div class="calc-bar">
                        <div class="calc-fill" style="width: ${percentage}%"></div>
                    </div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${totalScore}</div>
                    <div class="calc-label">Total Points</div>
                    <div class="calc-detail">out of ${this.results.maxScore}</div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${completionRate}%</div>
                    <div class="calc-label">Completion</div>
                    <div class="calc-detail">${completed}/${total} answered</div>
                </div>
            </div>
        `;
        
        // إضافة رؤى بسيطة
        this.showInsights(percentage, completionRate);
    }
    
    showInsights(percentage, completion) {
        const insightsDiv = document.getElementById('live-insights');
        if (!insightsDiv) return;
        
        const insights = [];
        
        if (completion >= 100) {
            insights.push("✅ Assessment completed! All questions answered.");
        } else if (completion >= 50) {
            insights.push(`📊 ${completion}% complete. Keep going!`);
        } else {
            insights.push("📝 Just getting started. Answer more questions for better insights.");
        }
        
        if (percentage >= 80) {
            insights.push("🌟 Excellent results! You're showing strong performance.");
        } else if (percentage >= 60) {
            insights.push("👍 Good results! There are areas for growth and development.");
        } else if (percentage >= 40) {
            insights.push("📈 Moderate results. Consider focusing on development opportunities.");
        }
        
        insightsDiv.innerHTML = insights.map(insight => 
            `<div class="insight-item">${insight}</div>`
        ).join('');
    }
    
    createResultsPanel() {
        // التحقق من وجود اللوحة
        if (document.getElementById('working-calculator-panel')) return;
        
        const panelHTML = `
            <div id="working-calculator-panel" class="calc-panel">
                <div class="calc-header">
                    <h3>📊 Live Results</h3>
                    <div class="calc-actions">
                        <button onclick="workingCalc.save()" class="calc-btn">💾 Save</button>
                        <button onclick="workingCalc.print()" class="calc-btn">🖨️ Print</button>
                        <button onclick="workingCalc.clear()" class="calc-btn">🗑️ Clear</button>
                    </div>
                </div>
                <div id="live-calculator-results" class="calc-results"></div>
                <div id="live-insights" class="calc-insights"></div>
            </div>
        `;
        
        // إدراج اللوحة
        const lastSection = document.querySelector('.section:last-child, .content:last-child');
        if (lastSection) {
            lastSection.insertAdjacentHTML('afterend', panelHTML);
        } else {
            document.body.insertAdjacentHTML('beforeend', panelHTML);
        }
        
        this.addStyles();
    }
    
    addStyles() {
        const style = document.createElement('style');
        style.textContent = `
            .calc-panel {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px auto;
                color: white;
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
                max-width: 1000px;
            }
            .calc-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                flex-wrap: wrap;
                gap: 15px;
            }
            .calc-header h3 {
                margin: 0;
                font-size: 1.5em;
            }
            .calc-actions {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
            }
            .calc-btn {
                background: rgba(255, 255, 255, 0.2);
                color: white;
                border: 2px solid rgba(255, 255, 255, 0.3);
                padding: 8px 15px;
                border-radius: 20px;
                cursor: pointer;
                font-weight: bold;
                transition: all 0.3s ease;
            }
            .calc-btn:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: translateY(-2px);
            }
            .calc-results-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            .calc-card {
                background: rgba(255, 255, 255, 0.15);
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                backdrop-filter: blur(10px);
            }
            .calc-score {
                font-size: 2.2em;
                font-weight: bold;
                margin: 5px 0;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            }
            .calc-label {
                font-size: 1em;
                opacity: 0.9;
                margin: 5px 0;
            }
            .calc-detail {
                font-size: 0.85em;
                opacity: 0.7;
                margin-top: 5px;
            }
            .calc-bar {
                background: rgba(255, 255, 255, 0.3);
                border-radius: 15px;
                height: 6px;
                margin: 10px 0;
                overflow: hidden;
            }
            .calc-fill {
                height: 100%;
                background: #4CAF50;
                border-radius: 15px;
                transition: width 0.8s ease;
            }
            .calc-insights {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 10px;
                padding: 15px;
                margin-top: 15px;
            }
            .insight-item {
                background: rgba(255, 255, 255, 0.1);
                padding: 10px 15px;
                border-radius: 6px;
                margin: 8px 0;
                border-left: 3px solid #4CAF50;
            }
            @media (max-width: 768px) {
                .calc-header {
                    flex-direction: column;
                    text-align: center;
                }
                .calc-results-grid {
                    grid-template-columns: 1fr;
                }
            }
        `;
        document.head.appendChild(style);
    }
    
    save() {
        const data = {
            timestamp: new Date().toISOString(),
            results: this.results,
            responses: this.getFormData()
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `assessment_results_${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        URL.revokeObjectURL(url);
        
        this.notify('Results saved successfully! 💾');
    }
    
    print() {
        window.print();
    }
    
    clear() {
        if (confirm('هل تريد مسح جميع الإجابات؟ Clear all answers?')) {
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('input[type="checkbox"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('textarea.input-field').forEach(textarea => {
                textarea.value = '';
            });
            
            this.results = {};
            this.updateDisplay();
            this.notify('All answers cleared! 🗑️');
        }
    }
    
    getFormData() {
        const data = {};
        
        document.querySelectorAll('input[type="radio"]:checked').forEach(input => {
            data[input.name] = input.value;
        });
        
        document.querySelectorAll('textarea.input-field').forEach((textarea, index) => {
            if (textarea.value.trim()) {
                data[`text_${index}`] = textarea.value;
            }
        });
        
        return data;
    }
    
    notify(message) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 10000;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            animation: slideIn 0.3s ease;
        `;
        
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.opacity = '0';
            notification.style.transform = 'translateY(-20px)';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }
}

// تشغيل النظام
document.addEventListener('DOMContentLoaded', () => {
    window.workingCalc = new WorkingCalculator();
});
</script>
</body>
</html>