<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resilience Development Plan - Day 6</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.4em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .intro-box {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 50%);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #f39c12;
        }
        
        .resilience-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
        }
        
        .pillar-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            border-left: 4px solid #27ae60;
        }
        
        .pillar-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .pillar-title span {
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .strategy-card {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #27ae60;
        }
        
        .strategy-card h4 {
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .input-field {
            border: 2px solid #e8ecf4;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            min-height: 60px;
            background: #ffffff;
            width: 100%;
            font-family: 'Segoe UI', Arial, sans-serif;
            font-size: 14px;
            resize: vertical;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            border-color: #667eea;
            background: #f8f9ff;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .input-field:hover {
            border-color: #764ba2;
        }
        
        .input-field.large {
            min-height: 120px;
        }
        
        .input-field::placeholder {
            color: #6c757d;
            font-style: italic;
            opacity: 0.7;
        }
        
        /* تحسين الطباعة */
        @media print {
            .input-field {
                border: 1px solid #333;
                background: white !important;
                color: #000 !important;
                page-break-inside: avoid;
            }
        }
        
        .input-field:focus {
            border-color: #667eea;
            background: #ffffff;
        }
        
        .input-field.large {
            min-height: 120px;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #27ae60;
        }
        
        .textarea-field {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 14px;
            min-height: 80px;
            resize: vertical;
            font-family: inherit;
            margin: 8px 0;
        }
        
        .textarea-field:focus {
            outline: none;
            border-color: #27ae60;
        }
        
        .action-plan {
            background: linear-gradient(135deg, #e3f2fd 0%, #f1f8ff 100%);
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
        }
        
        .checkbox-group {
            margin: 15px 0;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
        }
        
        .checkbox-item input[type="checkbox"] {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .progress-tracker {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .progress-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .rating-grid {
            display: grid;
            grid-template-columns: 2fr repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }
        
        .grid-header {
            font-weight: bold;
            color: #27ae60;
            padding: 8px;
            background: white;
            border-radius: 4px;
            text-align: center;
            font-size: 0.85em;
        }
        
        .grid-item {
            padding: 8px;
            background: white;
            border-radius: 4px;
            text-align: center;
            font-size: 0.9em;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>💪 Resilience Development Plan</h1>
            <p>Day 6: Building Your Capacity to Thrive Through Challenges</p>
        </div>
        
        <div class="content">
            <div class="intro-box">
                <h3>🎯 What is Authentic Resilience?</h3>
                <p>Resilience isn't about being tough or suppressing emotions. It's about developing the capacity to navigate life's challenges while staying connected to your authentic self. True resilience allows you to bend without breaking, to learn from setbacks, and to emerge from difficulties with greater wisdom and strength.</p>
            </div>
            
            <div class="resilience-section">
                <h2 style="color: #27ae60; margin-bottom: 20px;">📊 Resilience Assessment</h2>
                <p>Rate your current resilience in each area (1 = Needs Work, 5 = Very Strong):</p>
                
                <div class="rating-grid">
                    <div class="grid-header">Resilience Area</div>
                    <div class="grid-header">1</div>
                    <div class="grid-header">2</div>
                    <div class="grid-header">3</div>
                    <div class="grid-header">4</div>
                    <div class="grid-header">5</div>
                    
                    <div class="grid-item">Bouncing back from setbacks</div>
                    <div class="grid-item"><input type="radio" name="bounce" value="1"></div>
                    <div class="grid-item"><input type="radio" name="bounce" value="2"></div>
                    <div class="grid-item"><input type="radio" name="bounce" value="3"></div>
                    <div class="grid-item"><input type="radio" name="bounce" value="4"></div>
                    <div class="grid-item"><input type="radio" name="bounce" value="5"></div>
                    
                    <div class="grid-item">Managing stress and anxiety</div>
                    <div class="grid-item"><input type="radio" name="stress" value="1"></div>
                    <div class="grid-item"><input type="radio" name="stress" value="2"></div>
                    <div class="grid-item"><input type="radio" name="stress" value="3"></div>
                    <div class="grid-item"><input type="radio" name="stress" value="4"></div>
                    <div class="grid-item"><input type="radio" name="stress" value="5"></div>
                    
                    <div class="grid-item">Staying optimistic during challenges</div>
                    <div class="grid-item"><input type="radio" name="optimism" value="1"></div>
                    <div class="grid-item"><input type="radio" name="optimism" value="2"></div>
                    <div class="grid-item"><input type="radio" name="optimism" value="3"></div>
                    <div class="grid-item"><input type="radio" name="optimism" value="4"></div>
                    <div class="grid-item"><input type="radio" name="optimism" value="5"></div>
                    
                    <div class="grid-item">Adapting to change</div>
                    <div class="grid-item"><input type="radio" name="adapt" value="1"></div>
                    <div class="grid-item"><input type="radio" name="adapt" value="2"></div>
                    <div class="grid-item"><input type="radio" name="adapt" value="3"></div>
                    <div class="grid-item"><input type="radio" name="adapt" value="4"></div>
                    <div class="grid-item"><input type="radio" name="adapt" value="5"></div>
                    
                    <div class="grid-item">Learning from failures</div>
                    <div class="grid-item"><input type="radio" name="learning" value="1"></div>
                    <div class="grid-item"><input type="radio" name="learning" value="2"></div>
                    <div class="grid-item"><input type="radio" name="learning" value="3"></div>
                    <div class="grid-item"><input type="radio" name="learning" value="4"></div>
                    <div class="grid-item"><input type="radio" name="learning" value="5"></div>
                    
                    <div class="grid-item">Seeking support when needed</div>
                    <div class="grid-item"><input type="radio" name="support" value="1"></div>
                    <div class="grid-item"><input type="radio" name="support" value="2"></div>
                    <div class="grid-item"><input type="radio" name="support" value="3"></div>
                    <div class="grid-item"><input type="radio" name="support" value="4"></div>
                    <div class="grid-item"><input type="radio" name="support" value="5"></div>
                    
                    <div class="grid-item">Maintaining perspective during crises</div>
                    <div class="grid-item"><input type="radio" name="perspective" value="1"></div>
                    <div class="grid-item"><input type="radio" name="perspective" value="2"></div>
                    <div class="grid-item"><input type="radio" name="perspective" value="3"></div>
                    <div class="grid-item"><input type="radio" name="perspective" value="4"></div>
                    <div class="grid-item"><input type="radio" name="perspective" value="5"></div>
                    
                    <div class="grid-item">Taking care of physical health</div>
                    <div class="grid-item"><input type="radio" name="health" value="1"></div>
                    <div class="grid-item"><input type="radio" name="health" value="2"></div>
                    <div class="grid-item"><input type="radio" name="health" value="3"></div>
                    <div class="grid-item"><input type="radio" name="health" value="4"></div>
                    <div class="grid-item"><input type="radio" name="health" value="5"></div>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <p><strong>Based on your ratings, which areas need the most development?</strong></p>
                    <textarea class="textarea-field" placeholder="List your lowest-rated areas and why you think they're challenging for you..."></textarea>
                </div>
            </div>
            
            <div class="strategy-grid">
                <div class="strategy-card">
                    <h4>🧠 Mental Resilience Strategies</h4>
                    <ul style="margin-left: 15px;">
                        <li>Practice reframing negative thoughts</li>
                        <li>Develop a growth mindset</li>
                        <li>Focus on what you can control</li>
                        <li>Cultivate gratitude daily</li>
                        <li>Challenge catastrophic thinking</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Your strategy:</strong></p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="Which mental resilience strategy will you focus on this week?"></textarea>
                </div>
                
                <div class="strategy-card">
                    <h4>💝 Emotional Resilience Strategies</h4>
                    <ul style="margin-left: 15px;">
                        <li>Allow yourself to feel emotions fully</li>
                        <li>Practice self-compassion</li>
                        <li>Use the ARISE method for emotional navigation</li>
                        <li>Develop emotional vocabulary</li>
                        <li>Create emotional release rituals</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Your strategy:</strong></p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="How will you strengthen your emotional resilience?"></textarea>
                </div>
                
                <div class="strategy-card">
                    <h4>💪 Physical Resilience Strategies</h4>
                    <ul style="margin-left: 15px;">
                        <li>Maintain regular exercise routine</li>
                        <li>Prioritize quality sleep</li>
                        <li>Eat nourishing foods</li>
                        <li>Practice stress-reduction techniques</li>
                        <li>Take breaks and rest when needed</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Your strategy:</strong></p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="What physical practices will support your resilience?"></textarea>
                </div>
                
                <div class="strategy-card">
                    <h4>🤝 Social Resilience Strategies</h4>
                    <ul style="margin-left: 15px;">
                        <li>Build a supportive network</li>
                        <li>Practice asking for help</li>
                        <li>Offer support to others</li>
                        <li>Set healthy boundaries</li>
                        <li>Maintain meaningful connections</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Your strategy:</strong></p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="How will you strengthen your social support system?"></textarea>
                </div>
                
                <div class="strategy-card">
                    <h4>🌟 Spiritual Resilience Strategies</h4>
                    <ul style="margin-left: 15px;">
                        <li>Connect with your core values</li>
                        <li>Find meaning in challenges</li>
                        <li>Practice mindfulness or meditation</li>
                        <li>Engage in activities that bring purpose</li>
                        <li>Cultivate hope and faith</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Your strategy:</strong></p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="How will you nurture your spiritual resilience?"></textarea>
                </div>
                
                <div class="strategy-card">
                    <h4>🔄 Adaptive Resilience Strategies</h4>
                    <ul style="margin-left: 15px;">
                        <li>Embrace change as opportunity</li>
                        <li>Develop multiple backup plans</li>
                        <li>Practice flexibility in thinking</li>
                        <li>Learn new skills regularly</li>
                        <li>Stay curious about possibilities</li>
                    </ul>
                    
                    <p style="margin-top: 15px;"><strong>Your strategy:</strong></p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="How will you become more adaptable?"></textarea>
                </div>
            </div>
            
            <div class="action-plan">
                <h2 style="color: #2196f3; margin-bottom: 20px;">🎯 Your 30-Day Resilience Building Plan</h2>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea; margin-bottom: 15px;">Week 1: Foundation Building</h4>
                    
                    <p><strong>Primary focus area:</strong></p>
                    <input type="text" class="input-field" placeholder="Which resilience area will you focus on first?">
                    
                    <p><strong>Daily practices you'll implement:</strong></p>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="daily1">
                            <label for="daily1">5-minute morning mindfulness practice</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="daily2">
                            <label for="daily2">Write down 3 things I'm grateful for</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="daily3">
                            <label for="daily3">Practice one reframing exercise</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="daily4">
                            <label for="daily4">Take a 10-minute walk outside</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="daily5">
                            <label for="daily5">Connect with one supportive person</label>
                        </div>
                    </div>
                    
                    <p><strong>Custom daily practice:</strong></p>
                    <textarea class="textarea-field" placeholder="What specific daily practice will you add?"></textarea>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea; margin-bottom: 15px;">Week 2-3: Skill Development</h4>
                    
                    <p><strong>Skills you'll practice:</strong></p>
                    <textarea class="textarea-field" placeholder="What specific resilience skills will you work on developing?"></textarea>
                    
                    <p><strong>Weekly challenges you'll take on:</strong></p>
                    <textarea class="textarea-field" placeholder="What small challenges will help you build resilience?"></textarea>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #667eea; margin-bottom: 15px;">Week 4: Integration & Assessment</h4>
                    
                    <p><strong>How you'll measure progress:</strong></p>
                    <textarea class="textarea-field" placeholder="How will you know your resilience is improving?"></textarea>
                    
                    <p><strong>Adjustments you might make:</strong></p>
                    <textarea class="textarea-field" placeholder="What might you change or add to your resilience plan?"></textarea>
                </div>
            </div>
            
            <div class="resilience-section">
                <h2 style="color: #27ae60; margin-bottom: 20px;">📚 Resilience Resources & Tools</h2>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #27ae60; margin-bottom: 15px;">Emergency Resilience Kit</h4>
                    <p style="margin-bottom: 15px;">When you're feeling overwhelmed, use these quick tools:</p>
                    
                    <p><strong>5-4-3-2-1 Grounding Technique:</strong></p>
                    <ul style="margin-left: 20px; margin-bottom: 15px;">
                        <li>5 things you can see</li>
                        <li>4 things you can touch</li>
                        <li>3 things you can hear</li>
                        <li>2 things you can smell</li>
                        <li>1 thing you can taste</li>
                    </ul>
                    
                    <p><strong>Your personal calming statements:</strong></p>
                    <textarea class="textarea-field" placeholder="Write 3 statements that help you feel calmer and more resilient..."></textarea>
                    
                    <p><strong>Your support contact list:</strong></p>
                    <textarea class="textarea-field" placeholder="List 3 people you can call when you need support..."></textarea>
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <h4 style="color: #27ae60; margin-bottom: 15px;">Past Resilience Wins</h4>
                    <p style="margin-bottom: 15px;">Remember times when you've shown resilience before:</p>
                    
                    <p><strong>Challenge you overcame:</strong></p>
                    <textarea class="textarea-field" placeholder="Describe a difficult time you successfully navigated..."></textarea>
                    
                    <p><strong>Strengths you used:</strong></p>
                    <textarea class="textarea-field" placeholder="What personal qualities helped you get through it?"></textarea>
                    
                    <p><strong>What you learned:</strong></p>
                    <textarea class="textarea-field" placeholder="What did this experience teach you about your resilience?"></textarea>
                </div>
            </div>
            
            <div class="progress-tracker">
                <div class="progress-item">
                    <h4 style="color: #27ae60;">Daily Check-in</h4>
                    <p>How resilient did I feel today?</p>
                    <div style="margin: 10px 0;">
                        <label style="display: block; margin: 5px 0;">
                            <input type="radio" name="daily_resilience" value="low"> Low
                        </label>
                        <label style="display: block; margin: 5px 0;">
                            <input type="radio" name="daily_resilience" value="medium"> Medium
                        </label>
                        <label style="display: block; margin: 5px 0;">
                            <input type="radio" name="daily_resilience" value="high"> High
                        </label>
                    </div>
                </div>
                
                <div class="progress-item">
                    <h4 style="color: #27ae60;">Weekly Review</h4>
                    <p>What challenged my resilience this week?</p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="Reflect on this week's challenges..."></textarea>
                </div>
                
                <div class="progress-item">
                    <h4 style="color: #27ae60;">Growth Tracking</h4>
                    <p>How did I grow stronger this week?</p>
                    <textarea class="textarea-field" style="min-height: 60px;" placeholder="What evidence do you see of growing resilience?"></textarea>
                </div>
            </div>
            
            <div class="intro-box">
                <h3>🌟 Remember</h3>
                <p><strong>Resilience is a skill, not a trait.</strong> It can be developed through practice, patience, and self-compassion. Every challenge you face is an opportunity to strengthen your resilience muscles. Trust in your ability to not just survive difficulties, but to grow from them and emerge stronger than before.</p>
                
                <p style="margin-top: 15px;"><em>"The strongest people are not those who show strength in front of us, but those who win battles we know nothing about." - Unknown</em></p>
            </div>
        </div>
        
        <div class="footer">
            <p>🌱 Part of your 7-Day Journey to Authentic Self-Discovery</p>
            <p>Build the resilience to thrive authentically through all of life's seasons</p>
        </div>
    </div>

        

        <script>
        // نظام حفظ وطباعة محسن
        class InteractiveResourceManager {
            constructor() {
                this.storageKey = 'resource_' + window.location.pathname.split('/').pop();
                this.init();
            }
            
            init() {
                this.loadSavedData();
                this.attachEventListeners();
                this.setupAutoSave();
                this.setupPrintHandling();
            }
            
            // حفظ البيانات
            saveData() {
                const data = {
                    textareas: {},
                    checkboxes: [],
                    radios: [],
                    timestamp: new Date().toISOString()
                };
                
                // حفظ النصوص
                document.querySelectorAll('textarea.input-field').forEach((textarea, index) => {
                    if (textarea.value.trim()) {
                        data.textareas[`textarea_${index}`] = textarea.value;
                    }
                });
                
                // حفظ الاختيارات
                document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                    data.checkboxes.push(cb.name || cb.value);
                });
                
                document.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
                    data.radios.push({name: radio.name, value: radio.value});
                });
                
                localStorage.setItem(this.storageKey, JSON.stringify(data));
            }
            
            // تحميل البيانات المحفوظة
            loadSavedData() {
                try {
                    const saved = localStorage.getItem(this.storageKey);
                    if (saved) {
                        const data = JSON.parse(saved);
                        
                        // استرداد النصوص
                        Object.entries(data.textareas || {}).forEach(([key, value]) => {
                            const index = parseInt(key.split('_')[1]);
                            const textarea = document.querySelectorAll('textarea.input-field')[index];
                            if (textarea) {
                                textarea.value = value;
                            }
                        });
                        
                        // استرداد الاختيارات
                        (data.checkboxes || []).forEach(name => {
                            const checkbox = document.querySelector(`input[type="checkbox"][name="${name}"], input[type="checkbox"][value="${name}"]`);
                            if (checkbox) checkbox.checked = true;
                        });
                        
                        (data.radios || []).forEach(({name, value}) => {
                            const radio = document.querySelector(`input[type="radio"][name="${name}"][value="${value}"]`);
                            if (radio) radio.checked = true;
                        });
                    }
                } catch (e) {
                    console.log('خطأ في تحميل البيانات المحفوظة:', e);
                }
            }
            
            // إعداد الحفظ التلقائي
            setupAutoSave() {
                let saveTimeout;
                const autoSave = () => {
                    clearTimeout(saveTimeout);
                    saveTimeout = setTimeout(() => this.saveData(), 1000);
                };
                
                document.addEventListener('input', autoSave);
                document.addEventListener('change', autoSave);
            }
            
            // إعداد معالجة الطباعة
            setupPrintHandling() {
                window.addEventListener('beforeprint', () => {
                    // إنشاء عناصر للطباعة تحتوي على الإجابات
                    document.querySelectorAll('textarea.input-field').forEach(textarea => {
                        if (textarea.value.trim()) {
                            const printDiv = document.createElement('div');
                            printDiv.className = 'print-answer';
                            printDiv.style.cssText = `
                                border: 1px solid #333;
                                padding: 10px;
                                margin: 5px 0;
                                background: #f9f9f9;
                                min-height: 40px;
                                white-space: pre-wrap;
                                font-family: Arial, sans-serif;
                                font-size: 12px;
                                page-break-inside: avoid;
                            `;
                            printDiv.textContent = textarea.value;
                            
                            textarea.style.display = 'none';
                            textarea.parentNode.insertBefore(printDiv, textarea);
                        }
                    });
                });
                
                window.addEventListener('afterprint', () => {
                    // إزالة عناصر الطباعة
                    document.querySelectorAll('.print-answer').forEach(div => div.remove());
                    document.querySelectorAll('textarea.input-field').forEach(textarea => {
                        textarea.style.display = 'block';
                    });
                });
            }
            
            // إرفاق مستمعي الأحداث
            attachEventListeners() {
                // إضافة أزرار الحفظ والطباعة إذا لم تكن موجودة
                this.addActionButtons();
            }
            
            // إضافة أزرار الإجراءات
            addActionButtons() {
                if (!document.querySelector('.action-buttons')) {
                    const buttonsDiv = document.createElement('div');
                    buttonsDiv.className = 'action-buttons';
                    buttonsDiv.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        right: 20px;
                        z-index: 1000;
                        display: flex;
                        gap: 10px;
                        flex-direction: column;
                    `;
                    
                    const printBtn = this.createButton('🖨️ Print', () => window.print());
                    const saveBtn = this.createButton('💾 Save', () => {
                        this.saveData();
                        this.showNotification('Your answers have been saved');
                    });
                    const clearBtn = this.createButton('🗑️ Clear', () => {
                        if (confirm('Do you want to clear all answers?')) {
                            this.clearAll();
                        }
                    });
                    
                    buttonsDiv.appendChild(printBtn);
                    buttonsDiv.appendChild(saveBtn);
                    buttonsDiv.appendChild(clearBtn);
                    
                    document.body.appendChild(buttonsDiv);
                }
            }
            
            // إنشاء زر
            createButton(text, onClick) {
                const button = document.createElement('button');
                button.textContent = text;
                button.style.cssText = `
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    border: none;
                    padding: 12px 16px;
                    border-radius: 8px;
                    cursor: pointer;
                    font-size: 14px;
                    font-weight: bold;
                    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                    transition: all 0.3s ease;
                    min-width: 100px;
                `;
                
                button.addEventListener('mouseover', () => {
                    button.style.transform = 'translateY(-2px)';
                    button.style.boxShadow = '0 6px 20px rgba(102, 126, 234, 0.4)';
                });
                
                button.addEventListener('mouseout', () => {
                    button.style.transform = 'translateY(0)';
                    button.style.boxShadow = '0 4px 15px rgba(102, 126, 234, 0.3)';
                });
                
                button.addEventListener('click', onClick);
                return button;
            }
            
            // مسح جميع البيانات
            clearAll() {
                document.querySelectorAll('textarea.input-field').forEach(textarea => {
                    textarea.value = '';
                });
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                    cb.checked = false;
                });
                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });
                localStorage.removeItem(this.storageKey);
                this.showNotification('All data cleared');
            }
            
            // إظهار إشعار
            showNotification(message) {
                const notification = document.createElement('div');
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #4CAF50;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    z-index: 1001;
                    font-weight: bold;
                    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateY(-20px)';
                    setTimeout(() => notification.remove(), 300);
                }, 2000);
            }
        }
        
        // تهيئة النظام عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', () => {
            new InteractiveResourceManager();
        });
        </script>

<script>
// نظام حساب تلقائي بسيط وفعال
class WorkingCalculator {
    constructor() {
        this.results = {};
        this.init();
    }
    
    init() {
        this.setupListeners();
        this.createResultsPanel();
    }
    
    setupListeners() {
        // مراقبة تغييرات الإدخال
        document.addEventListener('change', (e) => {
            if (e.target.type === 'radio' || e.target.type === 'checkbox') {
                this.calculate();
                this.addAnimation(e.target);
            }
        });
        
        // مراقبة النصوص
        document.addEventListener('input', (e) => {
            if (e.target.classList.contains('input-field')) {
                this.calculate();
            }
        });
    }
    
    addAnimation(element) {
        const parent = element.closest('.card, .section, .daily-challenge, .assessment-card');
        if (parent) {
            parent.style.transform = 'scale(1.05)';
            parent.style.transition = 'all 0.3s ease';
            parent.style.boxShadow = '0 8px 25px rgba(102, 126, 234, 0.4)';
            
            setTimeout(() => {
                parent.style.transform = 'scale(1)';
                parent.style.boxShadow = 'none';
            }, 400);
        }
    }
    
    calculate() {
        // حساب النقاط من radio buttons
        const radioInputs = document.querySelectorAll('input[type="radio"]:checked');
        let totalScore = 0;
        let maxScore = 0;
        
        radioInputs.forEach(input => {
            const value = parseInt(input.value) || 1;
            totalScore += value;
        });
        
        // حساب العدد الإجمالي للأسئلة
        const allRadios = document.querySelectorAll('input[type="radio"]');
        const questions = new Set();
        allRadios.forEach(radio => {
            questions.add(radio.name);
        });
        
        maxScore = questions.size * 5; // افتراض أقصى 5 نقاط لكل سؤال
        
        // حساب النسبة المئوية
        const percentage = maxScore > 0 ? Math.round((totalScore / maxScore) * 100) : 0;
        
        // حساب عدد الإجابات المكتملة
        const completedQuestions = radioInputs.length;
        const totalQuestions = questions.size;
        const completionRate = totalQuestions > 0 ? Math.round((completedQuestions / totalQuestions) * 100) : 0;
        
        // حفظ النتائج
        this.results = {
            totalScore: totalScore,
            maxScore: maxScore,
            percentage: percentage,
            completed: completedQuestions,
            total: totalQuestions,
            completionRate: completionRate
        };
        
        this.updateDisplay();
    }
    
    updateDisplay() {
        const resultsDiv = document.getElementById('live-calculator-results');
        if (!resultsDiv) return;
        
        const { totalScore, percentage, completed, total, completionRate } = this.results;
        
        resultsDiv.innerHTML = `
            <div class="calc-results-grid">
                <div class="calc-card">
                    <div class="calc-score">${percentage}%</div>
                    <div class="calc-label">Overall Score</div>
                    <div class="calc-bar">
                        <div class="calc-fill" style="width: ${percentage}%"></div>
                    </div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${totalScore}</div>
                    <div class="calc-label">Total Points</div>
                    <div class="calc-detail">out of ${this.results.maxScore}</div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${completionRate}%</div>
                    <div class="calc-label">Completion</div>
                    <div class="calc-detail">${completed}/${total} answered</div>
                </div>
            </div>
        `;
        
        // إضافة رؤى بسيطة
        this.showInsights(percentage, completionRate);
    }
    
    showInsights(percentage, completion) {
        const insightsDiv = document.getElementById('live-insights');
        if (!insightsDiv) return;
        
        const insights = [];
        
        if (completion >= 100) {
            insights.push("✅ Assessment completed! All questions answered.");
        } else if (completion >= 50) {
            insights.push(`📊 ${completion}% complete. Keep going!`);
        } else {
            insights.push("📝 Just getting started. Answer more questions for better insights.");
        }
        
        if (percentage >= 80) {
            insights.push("🌟 Excellent results! You're showing strong performance.");
        } else if (percentage >= 60) {
            insights.push("👍 Good results! There are areas for growth and development.");
        } else if (percentage >= 40) {
            insights.push("📈 Moderate results. Consider focusing on development opportunities.");
        }
        
        insightsDiv.innerHTML = insights.map(insight => 
            `<div class="insight-item">${insight}</div>`
        ).join('');
    }
    
    createResultsPanel() {
        // التحقق من وجود اللوحة
        if (document.getElementById('working-calculator-panel')) return;
        
        const panelHTML = `
            <div id="working-calculator-panel" class="calc-panel">
                <div class="calc-header">
                    <h3>📊 Live Results</h3>
                    <div class="calc-actions">
                        <button onclick="workingCalc.save()" class="calc-btn">💾 Save</button>
                        <button onclick="workingCalc.print()" class="calc-btn">🖨️ Print</button>
                        <button onclick="workingCalc.clear()" class="calc-btn">🗑️ Clear</button>
                    </div>
                </div>
                <div id="live-calculator-results" class="calc-results"></div>
                <div id="live-insights" class="calc-insights"></div>
            </div>
        `;
        
        // إدراج اللوحة
        const lastSection = document.querySelector('.section:last-child, .content:last-child');
        if (lastSection) {
            lastSection.insertAdjacentHTML('afterend', panelHTML);
        } else {
            document.body.insertAdjacentHTML('beforeend', panelHTML);
        }
        
        this.addStyles();
    }
    
    addStyles() {
        const style = document.createElement('style');
        style.textContent = `
            .calc-panel {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px auto;
                color: white;
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
                max-width: 1000px;
            }
            .calc-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                flex-wrap: wrap;
                gap: 15px;
            }
            .calc-header h3 {
                margin: 0;
                font-size: 1.5em;
            }
            .calc-actions {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
            }
            .calc-btn {
                background: rgba(255, 255, 255, 0.2);
                color: white;
                border: 2px solid rgba(255, 255, 255, 0.3);
                padding: 8px 15px;
                border-radius: 20px;
                cursor: pointer;
                font-weight: bold;
                transition: all 0.3s ease;
            }
            .calc-btn:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: translateY(-2px);
            }
            .calc-results-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            .calc-card {
                background: rgba(255, 255, 255, 0.15);
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                backdrop-filter: blur(10px);
            }
            .calc-score {
                font-size: 2.2em;
                font-weight: bold;
                margin: 5px 0;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            }
            .calc-label {
                font-size: 1em;
                opacity: 0.9;
                margin: 5px 0;
            }
            .calc-detail {
                font-size: 0.85em;
                opacity: 0.7;
                margin-top: 5px;
            }
            .calc-bar {
                background: rgba(255, 255, 255, 0.3);
                border-radius: 15px;
                height: 6px;
                margin: 10px 0;
                overflow: hidden;
            }
            .calc-fill {
                height: 100%;
                background: #4CAF50;
                border-radius: 15px;
                transition: width 0.8s ease;
            }
            .calc-insights {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 10px;
                padding: 15px;
                margin-top: 15px;
            }
            .insight-item {
                background: rgba(255, 255, 255, 0.1);
                padding: 10px 15px;
                border-radius: 6px;
                margin: 8px 0;
                border-left: 3px solid #4CAF50;
            }
            @media (max-width: 768px) {
                .calc-header {
                    flex-direction: column;
                    text-align: center;
                }
                .calc-results-grid {
                    grid-template-columns: 1fr;
                }
            }
        `;
        document.head.appendChild(style);
    }
    
    save() {
        const data = {
            timestamp: new Date().toISOString(),
            results: this.results,
            responses: this.getFormData()
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `assessment_results_${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        URL.revokeObjectURL(url);
        
        this.notify('Results saved successfully! 💾');
    }
    
    print() {
        window.print();
    }
    
    clear() {
        if (confirm('هل تريد مسح جميع الإجابات؟ Clear all answers?')) {
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('input[type="checkbox"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('textarea.input-field').forEach(textarea => {
                textarea.value = '';
            });
            
            this.results = {};
            this.updateDisplay();
            this.notify('All answers cleared! 🗑️');
        }
    }
    
    getFormData() {
        const data = {};
        
        document.querySelectorAll('input[type="radio"]:checked').forEach(input => {
            data[input.name] = input.value;
        });
        
        document.querySelectorAll('textarea.input-field').forEach((textarea, index) => {
            if (textarea.value.trim()) {
                data[`text_${index}`] = textarea.value;
            }
        });
        
        return data;
    }
    
    notify(message) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 10000;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            animation: slideIn 0.3s ease;
        `;
        
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.opacity = '0';
            notification.style.transform = 'translateY(-20px)';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }
}

// تشغيل النظام
document.addEventListener('DOMContentLoaded', () => {
    window.workingCalc = new WorkingCalculator();
});
</script>

<script>
// نظام حساب تلقائي بسيط وفعال
class WorkingCalculator {
    constructor() {
        this.results = {};
        this.init();
    }
    
    init() {
        this.setupListeners();
        this.createResultsPanel();
    }
    
    setupListeners() {
        // مراقبة تغييرات الإدخال
        document.addEventListener('change', (e) => {
            if (e.target.type === 'radio' || e.target.type === 'checkbox') {
                this.calculate();
                this.addAnimation(e.target);
            }
        });
        
        // مراقبة النصوص
        document.addEventListener('input', (e) => {
            if (e.target.classList.contains('input-field')) {
                this.calculate();
            }
        });
    }
    
    addAnimation(element) {
        const parent = element.closest('.card, .section, .daily-challenge, .assessment-card');
        if (parent) {
            parent.style.transform = 'scale(1.05)';
            parent.style.transition = 'all 0.3s ease';
            parent.style.boxShadow = '0 8px 25px rgba(102, 126, 234, 0.4)';
            
            setTimeout(() => {
                parent.style.transform = 'scale(1)';
                parent.style.boxShadow = 'none';
            }, 400);
        }
    }
    
    calculate() {
        // حساب النقاط من radio buttons
        const radioInputs = document.querySelectorAll('input[type="radio"]:checked');
        let totalScore = 0;
        let maxScore = 0;
        
        radioInputs.forEach(input => {
            const value = parseInt(input.value) || 1;
            totalScore += value;
        });
        
        // حساب العدد الإجمالي للأسئلة
        const allRadios = document.querySelectorAll('input[type="radio"]');
        const questions = new Set();
        allRadios.forEach(radio => {
            questions.add(radio.name);
        });
        
        maxScore = questions.size * 5; // افتراض أقصى 5 نقاط لكل سؤال
        
        // حساب النسبة المئوية
        const percentage = maxScore > 0 ? Math.round((totalScore / maxScore) * 100) : 0;
        
        // حساب عدد الإجابات المكتملة
        const completedQuestions = radioInputs.length;
        const totalQuestions = questions.size;
        const completionRate = totalQuestions > 0 ? Math.round((completedQuestions / totalQuestions) * 100) : 0;
        
        // حفظ النتائج
        this.results = {
            totalScore: totalScore,
            maxScore: maxScore,
            percentage: percentage,
            completed: completedQuestions,
            total: totalQuestions,
            completionRate: completionRate
        };
        
        this.updateDisplay();
    }
    
    updateDisplay() {
        const resultsDiv = document.getElementById('live-calculator-results');
        if (!resultsDiv) return;
        
        const { totalScore, percentage, completed, total, completionRate } = this.results;
        
        resultsDiv.innerHTML = `
            <div class="calc-results-grid">
                <div class="calc-card">
                    <div class="calc-score">${percentage}%</div>
                    <div class="calc-label">Overall Score</div>
                    <div class="calc-bar">
                        <div class="calc-fill" style="width: ${percentage}%"></div>
                    </div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${totalScore}</div>
                    <div class="calc-label">Total Points</div>
                    <div class="calc-detail">out of ${this.results.maxScore}</div>
                </div>
                <div class="calc-card">
                    <div class="calc-score">${completionRate}%</div>
                    <div class="calc-label">Completion</div>
                    <div class="calc-detail">${completed}/${total} answered</div>
                </div>
            </div>
        `;
        
        // إضافة رؤى بسيطة
        this.showInsights(percentage, completionRate);
    }
    
    showInsights(percentage, completion) {
        const insightsDiv = document.getElementById('live-insights');
        if (!insightsDiv) return;
        
        const insights = [];
        
        if (completion >= 100) {
            insights.push("✅ Assessment completed! All questions answered.");
        } else if (completion >= 50) {
            insights.push(`📊 ${completion}% complete. Keep going!`);
        } else {
            insights.push("📝 Just getting started. Answer more questions for better insights.");
        }
        
        if (percentage >= 80) {
            insights.push("🌟 Excellent results! You're showing strong performance.");
        } else if (percentage >= 60) {
            insights.push("👍 Good results! There are areas for growth and development.");
        } else if (percentage >= 40) {
            insights.push("📈 Moderate results. Consider focusing on development opportunities.");
        }
        
        insightsDiv.innerHTML = insights.map(insight => 
            `<div class="insight-item">${insight}</div>`
        ).join('');
    }
    
    createResultsPanel() {
        // التحقق من وجود اللوحة
        if (document.getElementById('working-calculator-panel')) return;
        
        const panelHTML = `
            <div id="working-calculator-panel" class="calc-panel">
                <div class="calc-header">
                    <h3>📊 Live Results</h3>
                    <div class="calc-actions">
                        <button onclick="workingCalc.save()" class="calc-btn">💾 Save</button>
                        <button onclick="workingCalc.print()" class="calc-btn">🖨️ Print</button>
                        <button onclick="workingCalc.clear()" class="calc-btn">🗑️ Clear</button>
                    </div>
                </div>
                <div id="live-calculator-results" class="calc-results"></div>
                <div id="live-insights" class="calc-insights"></div>
            </div>
        `;
        
        // إدراج اللوحة
        const lastSection = document.querySelector('.section:last-child, .content:last-child');
        if (lastSection) {
            lastSection.insertAdjacentHTML('afterend', panelHTML);
        } else {
            document.body.insertAdjacentHTML('beforeend', panelHTML);
        }
        
        this.addStyles();
    }
    
    addStyles() {
        const style = document.createElement('style');
        style.textContent = `
            .calc-panel {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px auto;
                color: white;
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
                max-width: 1000px;
            }
            .calc-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                flex-wrap: wrap;
                gap: 15px;
            }
            .calc-header h3 {
                margin: 0;
                font-size: 1.5em;
            }
            .calc-actions {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
            }
            .calc-btn {
                background: rgba(255, 255, 255, 0.2);
                color: white;
                border: 2px solid rgba(255, 255, 255, 0.3);
                padding: 8px 15px;
                border-radius: 20px;
                cursor: pointer;
                font-weight: bold;
                transition: all 0.3s ease;
            }
            .calc-btn:hover {
                background: rgba(255, 255, 255, 0.3);
                transform: translateY(-2px);
            }
            .calc-results-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            .calc-card {
                background: rgba(255, 255, 255, 0.15);
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                backdrop-filter: blur(10px);
            }
            .calc-score {
                font-size: 2.2em;
                font-weight: bold;
                margin: 5px 0;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            }
            .calc-label {
                font-size: 1em;
                opacity: 0.9;
                margin: 5px 0;
            }
            .calc-detail {
                font-size: 0.85em;
                opacity: 0.7;
                margin-top: 5px;
            }
            .calc-bar {
                background: rgba(255, 255, 255, 0.3);
                border-radius: 15px;
                height: 6px;
                margin: 10px 0;
                overflow: hidden;
            }
            .calc-fill {
                height: 100%;
                background: #4CAF50;
                border-radius: 15px;
                transition: width 0.8s ease;
            }
            .calc-insights {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 10px;
                padding: 15px;
                margin-top: 15px;
            }
            .insight-item {
                background: rgba(255, 255, 255, 0.1);
                padding: 10px 15px;
                border-radius: 6px;
                margin: 8px 0;
                border-left: 3px solid #4CAF50;
            }
            @media (max-width: 768px) {
                .calc-header {
                    flex-direction: column;
                    text-align: center;
                }
                .calc-results-grid {
                    grid-template-columns: 1fr;
                }
            }
        `;
        document.head.appendChild(style);
    }
    
    save() {
        const data = {
            timestamp: new Date().toISOString(),
            results: this.results,
            responses: this.getFormData()
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `assessment_results_${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        URL.revokeObjectURL(url);
        
        this.notify('Results saved successfully! 💾');
    }
    
    print() {
        window.print();
    }
    
    clear() {
        if (confirm('هل تريد مسح جميع الإجابات؟ Clear all answers?')) {
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('input[type="checkbox"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('textarea.input-field').forEach(textarea => {
                textarea.value = '';
            });
            
            this.results = {};
            this.updateDisplay();
            this.notify('All answers cleared! 🗑️');
        }
    }
    
    getFormData() {
        const data = {};
        
        document.querySelectorAll('input[type="radio"]:checked').forEach(input => {
            data[input.name] = input.value;
        });
        
        document.querySelectorAll('textarea.input-field').forEach((textarea, index) => {
            if (textarea.value.trim()) {
                data[`text_${index}`] = textarea.value;
            }
        });
        
        return data;
    }
    
    notify(message) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            z-index: 10000;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            animation: slideIn 0.3s ease;
        `;
        
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.opacity = '0';
            notification.style.transform = 'translateY(-20px)';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }
}

// تشغيل النظام
document.addEventListener('DOMContentLoaded', () => {
    window.workingCalc = new WorkingCalculator();
});
</script>
</body>
</html>